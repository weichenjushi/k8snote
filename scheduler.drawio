<mxfile host="app.diagrams.net" modified="2021-02-21T06:58:13.320Z" agent="5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.182 Safari/537.36" etag="qm3LTqipSsqx0uJW7oUF" version="14.4.2" type="github">
  <diagram id="JHZ_AKQc6s-NOoXSg_DW" name="Page-1">
    <mxGraphModel dx="946" dy="3891" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="2339" pageHeight="3300" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="csSMordtTn-Y-POsDCVy-3" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="80" y="60" width="450" height="280" as="geometry" />
        </mxCell>
        <mxCell id="EZseN-qXgyYYWQNhCjUC-1" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;color: #b09d79&quot;&gt;runCommand&lt;/span&gt;(cmd&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;opts&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;registryOptions...)&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="csSMordtTn-Y-POsDCVy-3" vertex="1">
          <mxGeometry y="70" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EZseN-qXgyYYWQNhCjUC-2" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;color: #b09d79&quot;&gt;Run&lt;/span&gt;(ctx&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;cc&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;sched)&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="csSMordtTn-Y-POsDCVy-3" vertex="1">
          <mxGeometry y="140" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EZseN-qXgyYYWQNhCjUC-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="csSMordtTn-Y-POsDCVy-3" source="EZseN-qXgyYYWQNhCjUC-1" target="EZseN-qXgyYYWQNhCjUC-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EZseN-qXgyYYWQNhCjUC-4" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;sched.&lt;span style=&quot;color: #b09d79&quot;&gt;Run&lt;/span&gt;(ctx)&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="csSMordtTn-Y-POsDCVy-3" vertex="1">
          <mxGeometry y="190" width="450" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EZseN-qXgyYYWQNhCjUC-5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="csSMordtTn-Y-POsDCVy-3" source="EZseN-qXgyYYWQNhCjUC-2" target="EZseN-qXgyYYWQNhCjUC-4" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EZseN-qXgyYYWQNhCjUC-6" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;color: #4eade5&quot;&gt;sched&lt;/span&gt;.SchedulingQueue.&lt;span style=&quot;color: #b09d79&quot;&gt;Run&lt;/span&gt;()&lt;br&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;wait&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;UntilWithContext&lt;/span&gt;(ctx&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #4eade5&quot;&gt;sched&lt;/span&gt;.&lt;span style=&quot;color: #e6b163&quot;&gt;scheduleOne&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #6897bb&quot;&gt;0&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;" style="whiteSpace=wrap;html=1;rounded=1;" parent="csSMordtTn-Y-POsDCVy-3" vertex="1">
          <mxGeometry y="240" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EZseN-qXgyYYWQNhCjUC-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="csSMordtTn-Y-POsDCVy-3" source="EZseN-qXgyYYWQNhCjUC-4" target="EZseN-qXgyYYWQNhCjUC-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-1" value="&lt;h1&gt;Scheduler-core主流程&lt;/h1&gt;&lt;p&gt;core主流程&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="csSMordtTn-Y-POsDCVy-3">
          <mxGeometry width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-22" value="" style="group" vertex="1" connectable="0" parent="1">
          <mxGeometry x="800" y="-100" width="885" height="503" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-2" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;quot;jetbrains mono&amp;quot; , monospace ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;color: #c7773e&quot;&gt;func &lt;/span&gt;(&lt;span style=&quot;color: #4eade5&quot;&gt;c &lt;/span&gt;*&lt;span style=&quot;color: #6fafbd&quot;&gt;Configurator&lt;/span&gt;) &lt;span style=&quot;color: #e6b163&quot;&gt;createFromProvider&lt;/span&gt;(providerName &lt;span style=&quot;color: #c7773e&quot;&gt;string&lt;/span&gt;) (*&lt;span style=&quot;color: #6fafbd&quot;&gt;Scheduler&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #c7773e&quot;&gt;error&lt;/span&gt;) {&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry x="5" y="403" width="800" height="40" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-4" value="factory.go&lt;br&gt;算法调度器初始化" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry x="835" y="413" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-7" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;algorithmprovider&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;NewRegistry&lt;/span&gt;()&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry x="5" y="463" width="800" height="40" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="csSMordtTn-Y-POsDCVy-22" source="csSMordtTn-Y-POsDCVy-2" target="csSMordtTn-Y-POsDCVy-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="csSMordtTn-Y-POsDCVy-22" source="csSMordtTn-Y-POsDCVy-9" target="csSMordtTn-Y-POsDCVy-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-9" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;color: #c7773e&quot;&gt;func &lt;/span&gt;&lt;span style=&quot;color: #e6b163&quot;&gt;New&lt;/span&gt;(client &lt;span style=&quot;color: #afbf7e&quot;&gt;clientset&lt;/span&gt;.&lt;span style=&quot;color: #6fafbd&quot;&gt;Interface&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;informerFactory &lt;span style=&quot;color: #afbf7e&quot;&gt;informers&lt;/span&gt;.&lt;span style=&quot;color: #6fafbd&quot;&gt;SharedInformerFactory&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;recorderFactory &lt;span style=&quot;color: #afbf7e&quot;&gt;profile&lt;/span&gt;.&lt;span style=&quot;color: #6fafbd&quot;&gt;RecorderFactory&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;stopCh &amp;lt;-&lt;span style=&quot;color: #c7773e&quot;&gt;chan struct&lt;/span&gt;{}&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;opts ...&lt;span style=&quot;color: #6fafbd&quot;&gt;Option&lt;/span&gt;) (*&lt;span style=&quot;color: #6fafbd&quot;&gt;Scheduler&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: #c7773e&quot;&gt;error&lt;/span&gt;) {&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry x="5" y="290" width="800" height="90" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-10" value="scheduler.go&lt;br&gt;创建调度器" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry x="835" y="323" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="csSMordtTn-Y-POsDCVy-22" source="csSMordtTn-Y-POsDCVy-11" target="csSMordtTn-Y-POsDCVy-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-11" value="&lt;pre style=&quot;background-color: #2b2b2b ; color: #a9b7c6 ; font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;jetbrains mono&amp;#34; , monospace ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;color: #787878&quot;&gt;// Create the scheduler.&lt;br&gt;&lt;/span&gt;sched&lt;span style=&quot;color: #cc7832&quot;&gt;, &lt;/span&gt;err := &lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;New&lt;/span&gt;(cc.Client&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;cc.InformerFactory&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;recorderFactory&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;ctx.&lt;span style=&quot;color: #b09d79&quot;&gt;Done&lt;/span&gt;()&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;WithProfiles&lt;/span&gt;(cc.ComponentConfig.Profiles...)&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;WithAlgorithmSource&lt;/span&gt;(cc.ComponentConfig.AlgorithmSource)&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;WithPercentageOfNodesToScore&lt;/span&gt;(cc.ComponentConfig.PercentageOfNodesToScore)&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;WithFrameworkOutOfTreeRegistry&lt;/span&gt;(outOfTreeRegistry)&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;WithPodMaxBackoffSeconds&lt;/span&gt;(cc.ComponentConfig.PodMaxBackoffSeconds)&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;WithPodInitialBackoffSeconds&lt;/span&gt;(cc.ComponentConfig.PodInitialBackoffSeconds)&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: #afbf7e&quot;&gt;scheduler&lt;/span&gt;.&lt;span style=&quot;color: #b09d79&quot;&gt;WithExtenders&lt;/span&gt;(cc.ComponentConfig.Extenders...)&lt;span style=&quot;color: #cc7832&quot;&gt;,&lt;br&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry y="40" width="810" height="220" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-15" value="server.go&lt;br&gt;cmd" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry x="835" y="130" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-19" value="algorithmprovider加载各种算法插件" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry x="845" y="473" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="csSMordtTn-Y-POsDCVy-21" value="&lt;h1&gt;算法加载流程&lt;/h1&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="csSMordtTn-Y-POsDCVy-22">
          <mxGeometry width="190" height="120" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
